# SmanAgent é…ç½®æ–‡ä»¶
# æ”¯æŒç¯å¢ƒå˜é‡å ä½ç¬¦ï¼š${ENV_VAR_NAME}

# ==================== LLM API é…ç½® ====================
llm.api.key=${LLM_API_KEY}
# ä½¿ç”¨ coding ä¸“ç”¨ç«¯ç‚¹ï¼ˆä¸ agent é¡¹ç›®ä¿æŒä¸€è‡´ï¼‰
llm.base.url=https://open.bigmodel.cn/api/coding/paas/v4
llm.model.name=GLM-4.7
llm.response.max.tokens=28192

# ==================== é‡è¯•é…ç½® ====================
# æœ€å¤§é‡è¯•æ¬¡æ•°
llm.retry.max=3
# é‡è¯•åŸºç¡€å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
# 429 é”™è¯¯éœ€è¦æ›´é•¿çš„ç­‰å¾…æ—¶é—´ï¼Œå»ºè®®è‡³å°‘ 5 ç§’
llm.retry.base.delay=5000

# ==================== è¶…æ—¶é…ç½®ï¼ˆæ¯«ç§’ï¼‰===================
llm.timeout.connect=30000
llm.timeout.read=180000
llm.timeout.write=30000

# ==================== ReAct å¾ªç¯é…ç½® ====================
react.max.steps=25
react.enable.streaming=true

# ==================== ä¸Šä¸‹æ–‡å‹ç¼©é…ç½® ====================
compaction.max.tokens=100000
compaction.threshold=80000
compaction.enable.intelligent=true

# ==================== æ¨¡å‹å‚æ•°é…ç½® ====================
llm.temperature=0.0
llm.default.max.tokens=4096

# ==================== å‘é‡æ•°æ®åº“é…ç½® ====================
# å‘é‡æ•°æ®åº“ç±»å‹: JVECTOR, MEMORY, MILVUS, CHROMA, PGVECTOR
vector.db.type=JVECTOR
vector.db.dimension=1024

# JVector é…ç½®ï¼ˆL2 æ¸©æ•°æ®ç´¢å¼•ï¼‰
# HNSW å‚æ•°è¯´æ˜ï¼š
# - dimension: BGE-M3 å‘é‡ç»´åº¦ (1024)
# - M: HNSW å›¾è¿æ¥æ•° (8-32, æ¨è 16)
# - efConstruction: HNSW æ„å»ºå‚æ•° (50-200, æ¨è 100)
# - efSearch: HNSW æœç´¢å‚æ•° (20-100, æ¨è 50)
# - enablePersist: æ˜¯å¦å¯ç”¨ç£ç›˜æŒä¹…åŒ–
# - rerankerThreshold: Reranker ç›¸ä¼¼åº¦é˜ˆå€¼ (0.0-1.0, ä»…å®šä¹‰æœªä½¿ç”¨)
vector.db.jvector.dimension=1024
vector.db.jvector.M=16
vector.db.jvector.efConstruction=100
vector.db.jvector.efSearch=50
vector.db.jvector.enablePersist=true
vector.db.jvector.rerankerThreshold=0.1

# L1/L2/L3 ä¸‰å±‚ç¼“å­˜é…ç½®
# L1 (Hot): å†…å­˜ LRU ç¼“å­˜ï¼Œå­˜å‚¨æœ€è¿‘è®¿é—®çš„çƒ­ç‚¹æ•°æ®
# - å°å‹é¡¹ç›®: 100-500
# - ä¸­å‹é¡¹ç›®: 500-1000
# - å¤§å‹é¡¹ç›®: 1000-2000
vector.db.l1.cache.size=500

# H2 æ•°æ®åº“é…ç½®ï¼ˆL3 å†·æ•°æ®å­˜å‚¨ï¼‰
# H2 æ˜¯åµŒå…¥å¼æ•°æ®åº“ï¼Œæ— éœ€å¤–éƒ¨å®‰è£…
vector.db.h2.path=${user.home}/.smanunion/analysis.mv.db
vector.db.h2.connection.pool.size=10
vector.db.h2.connection.idle=2

# ==================== BGE-M3 å‘é‡åŒ–é…ç½® ====================
# BGE-M3 æœåŠ¡ç«¯ç‚¹ï¼ˆéœ€è‡ªè¡Œéƒ¨ç½²ï¼‰
# å¦‚éœ€å¯ç”¨è¯­ä¹‰æœç´¢ï¼Œè¯·å…ˆéƒ¨ç½² BGE-M3 æœåŠ¡
bge.endpoint=http://localhost:8000/v1/embeddings
bge.model.name=BAAI/bge-m3
bge.dimension=1024
bge.timeout.seconds=30
bge.batch.size=10

# ==================== BGE-Reranker é…ç½® ====================
# ğŸ”¥ Reranker é‡æ’æœåŠ¡é…ç½®ï¼ˆæå‡æœç´¢æ•ˆç‡ 10 å€+ï¼‰
# éœ€è‡ªè¡Œéƒ¨ç½² BGE-Reranker æœåŠ¡
reranker.enabled=true
reranker.base.url=http://localhost:8001/v1
reranker.model=BAAI/bge-reranker-v2-m3
reranker.api.key=
reranker.timeout.seconds=30
reranker.retry=2
reranker.max.rounds=3
reranker.top.k=15

